{"version":3,"sources":["index.js"],"names":["Square","index","_this","this","isWinningSquare","props","winSeq","keyProp","includes","react__WEBPACK_IMPORTED_MODULE_5___default","a","createElement","className","onClick","value","React","Component","Board","i","_this2","key","squares","boardSquares","boardSquaresRow","push","renderSquare","Game","_this3","Object","E_REPOS_gomoku_gh_pages_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","E_REPOS_gomoku_gh_pages_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","E_REPOS_gomoku_gh_pages_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","call","state","history","Array","fill","stepNumber","xIsNext","isDraw","slice","length","calculateWinner","setState","concat","step","status","_this4","current","winner","moves","map","move","desc","jumpTo","player","handleClick","sequence","squaresArray","squaresRow","j","findFiveInARow","matrix","row","column","win","mLength","selected","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.f6f6e0d0.chunk.js","sourcesContent":["import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport '../node_modules/bootstrap/dist/css/bootstrap.min.css';\r\n\r\nclass Square extends React.Component {\r\n\r\n\r\n  render() {\r\n    let isWinningSquare = false;\r\n    if (this.props.winSeq) {\r\n      isWinningSquare = elementInArray(this.props.keyProp, this.props.winSeq);\r\n    }\r\n\r\n    return (\r\n      <button\r\n        className={'square ' + (isWinningSquare ? 'winningSquare' : '')}\r\n        onClick={() => this.props.onClick()}>\r\n        {this.props.value}\r\n      </button>\r\n    );\r\n  }\r\n}\r\n\r\nclass Board extends React.Component {\r\n  renderSquare(i) {\r\n    return <Square\r\n      key={i} keyProp={i}\r\n      value={this.props.squares[i]}\r\n      onClick={() => this.props.onClick(i)}\r\n      winSeq={this.props.winSeq} />;\r\n  }\r\n\r\n  render() {\r\n    var boardSquares = [];\r\n    var boardSquaresRow = [];\r\n    for (var i = 0; i < 225; i++) {\r\n      if (i % 15 == 0 && i != 0) {\r\n        boardSquares.push(<div className=\"board-row\">{boardSquaresRow}</div>);\r\n        boardSquaresRow = [];\r\n      }\r\n      boardSquaresRow.push(this.renderSquare(i));\r\n    }\r\n    return (\r\n      <div>\r\n        {boardSquares}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nclass Game extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      history: [{\r\n        squares: Array(225).fill(null)\r\n      }],\r\n      stepNumber: 0,\r\n      xIsNext: true,\r\n      isDraw: false\r\n    }\r\n  }\r\n\r\n  handleClick(i) {\r\n    const history = this.state.history.slice(0, this.state.stepNumber + 1)\r\n    const current = history[history.length - 1];\r\n    const squares = current.squares.slice();\r\n\r\n    if (calculateWinner(squares) || squares[i]) {\r\n      return;\r\n    }\r\n    squares[i] = this.state.xIsNext ? 'X' : 'O';\r\n\r\n    this.setState({\r\n      history: history.concat([{\r\n        squares: squares,\r\n      }]),\r\n      stepNumber: history.length,\r\n      xIsNext: !this.state.xIsNext,\r\n      isDraw: history.length === 225 ? true : false\r\n    });\r\n  }\r\n\r\n  jumpTo(step) {\r\n    this.setState({\r\n      stepNumber: step,\r\n      xIsNext: (step % 2) === 0,\r\n      isDraw: false\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const history = this.state.history;\r\n    const current = history[this.state.stepNumber];\r\n    const winner = calculateWinner(current.squares);\r\n    const isDraw = this.state.isDraw;\r\n\r\n    const moves = history.map((step, move) => {\r\n      const desc = move ?\r\n        'Move ' + move :\r\n        // 'Go to move #' + move :\r\n        'Restart';\r\n      // 'Go to game start';\r\n\r\n      if(move){\r\n        return (\r\n          <li key={move}>\r\n            <button className=\"btn btn-info\" onClick={() => this.jumpTo(move)}>{desc}</button>\r\n          </li>\r\n        )\r\n      }else {\r\n        return (\r\n          <li key={move}>\r\n            <button className=\"btn btn-primary\" onClick={() => this.jumpTo(move)}>{desc}</button>\r\n          </li>\r\n        )\r\n      }\r\n\r\n      // return (\r\n      //   <li key={move}>\r\n      //   <button onClick={() => this.jumpTo(move)}>{desc}</button>\r\n      // </li>\r\n      // )\r\n\r\n    })\r\n\r\n    let status;\r\n    if (winner) {\r\n      status = 'Winner: ' + winner.player;\r\n    } else if (isDraw) {\r\n      status = 'Draw';\r\n    }\r\n    else {\r\n      status = 'Next: ' + (this.state.xIsNext ? 'X' : 'O');\r\n      // status = 'Next player: ' + (this.state.xIsNext ? 'X' : 'O');\r\n    }\r\n\r\n    return (\r\n      <div className=\"game\">\r\n        <div className=\"game-board\">\r\n          <h3 className=\"title\">GOMOKU</h3>\r\n          <Board\r\n            squares={current.squares}\r\n            onClick={(i) => this.handleClick(i)}\r\n            winSeq={winner.sequence} />\r\n        </div>\r\n        <div className=\"game-info\">\r\n          <div>{status}</div>\r\n          <ol>{moves}</ol>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n// ========================================\r\n\r\nReactDOM.render(\r\n  <Game />,\r\n  document.getElementById('root')\r\n);\r\n\r\nfunction calculateWinner(squares) {\r\n  var squaresArray = [];\r\n  var squaresRow = [];\r\n  var winner;\r\n  for (var i = 0; i < squares.length; i++) {\r\n    if (i % 15 == 0 && i != 0) {\r\n      squaresArray.push(squaresRow);\r\n      squaresRow = [];\r\n    }\r\n    squaresRow.push(squares[i]);\r\n  }\r\n\r\n  for (var i = 0; i < squaresArray.length; i++) {\r\n    for (var j = 0; j < squaresArray[i].length; j++) {\r\n      if (squaresArray[i][j]) {\r\n        winner = findFiveInARow(squaresArray, i, j);\r\n        if (winner) {\r\n          return winner;\r\n        }\r\n\r\n      }\r\n    }\r\n  }\r\n  return \"\";\r\n}\r\n\r\nfunction findFiveInARow(matrix, row, column) {\r\n  var mLength = matrix.length+1;\r\n  var selected = matrix[row][column];\r\n  var sequence = [];\r\n  var win;\r\n//Horizontal right\r\n  for (var i = 0; i < 5; i++) {\r\n    if (0>column-4 || selected != matrix[row][column-i]) {\r\n      sequence = [];\r\n      win = false;\r\n      break;\r\n    }\r\n    sequence.push((row*mLength) + (column-i));\r\n    win = true;\r\n  }\r\n//Vertical \r\n  if (!win) {\r\n    for (var i = 0; i < 5; i++) {\r\n      if (0 > row-4 || selected != matrix[row-i][column]) {\r\n        sequence = [];\r\n        win = false;\r\n        break;\r\n      }\r\n      sequence.push(((row-i)*mLength) + (column));\r\n      win = true;\r\n    }\r\n  }\r\n//Diagonal Q13\r\n  if (!win) {\r\n    for (var i = 0; i < 5; i++) {\r\n      if (0 > column-4 || matrix.length<row+4 || selected != matrix[row+i][column-i]) {\r\n        sequence = [];\r\n        win = false;\r\n        break;\r\n      }\r\n      sequence.push(((row+i)*mLength) + (column-i));\r\n      win = true;\r\n    }\r\n  }\r\n//Diagonal Q24\r\n  if (!win) {\r\n    for (var i = 0; i < 5; i++) {\r\n      if (0 > column-4 || 0>row-4 || selected != matrix[row-i][column-i]) {\r\n        sequence = [];\r\n        win = false;\r\n        break;\r\n      }\r\n      sequence.push(((row-i)*mLength) + (column-i));\r\n      win = true;\r\n    }\r\n  }\r\n\r\n\r\n  if (win) {\r\n    return {\r\n      player: selected,\r\n      sequence: sequence\r\n          };\r\n  } else {\r\n    return \"\";\r\n  }\r\n}\r\n\r\nfunction elementInArray(index, array) {\r\n  if (array.includes(index)) {\r\n    return true;\r\n  } else {\r\n    return false;\r\n  }\r\n}\r\n"],"sourceRoot":""}